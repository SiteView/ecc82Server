<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Wt: </title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
</head>
<title>Wt Release notes</title>
<body>
<h1>Wt Release notes</h1>

<h2>Release 2.0.0</h2>

<p>
  This release contains numerous changes which are likely to cause some
  porting effort for Wt 1.1.x applications to work properly.
</p>

<p>
  Here is a list of changes with respect to Wt 1.1.x that are likely
  to require your attention, and some tips on how to do the porting.
</p>

<h4>1) Namespace Wt</h4>

<p>All Wt classes are now inside the namespace Wt.</p>

<p>To handle this change, you will need to:
  <ul>
    <li>Wrap forward declarations to Wt widgets in header files inside a
      Wt namespace, or <samp>#include &lt;WFwdDeclarations&gt;</samp></li>
    <li>and scope all Wt classes with <samp>Wt::</samp>, </li>
    <li>or import the Wt namespace: <samp>using namespace Wt;</samp></li>
  </ul>
</p>

<h4>2) WMessage</h4>

<p>
  Previously, most widgets offered double methods that either used a
  <samp>std::string</samp> for literal text, or a
  <samp>WMessage</samp> for localized text. In the new release,
  widgets only use a <samp>WMessage</samp> for both literal and
  localized text. The constructors <samp>WMessage(const char
  *text)</samp> and <samp>WMessage(const std::string text)</samp>
  changed meaning! While previously they took a key to construct a
  localized message, they now take a literal text (the exact
  opposite!). To create a localized text, there are now the static
  methods <samp>WMessage::tr(const std::string key)</samp> and
  <samp>WWidget::tr(const std::string key)</samp>.
</p>
<p>
  The new approach offers the benefit of only requiring one method
  signature for both literal and localizable text. This not only
  simplifies our work, but more importantly by using <samp>WMessage</samp>
  for displayed text in your own widgets, localization comes automatically.
</p>
<p>
  Fortunately, there is a straightforward trick to handle most consequences
  of this change:
  <ul>
   <li>Replace <samp>WMessage(...)</samp> with <samp>tr(...)</samp>,</li>
   <li>add <samp>.value()</samp> when using the result of functions such
     as <samp>WText::text()</samp>,
   <li>(optionally) change your own classes to use <samp>WMessage</samp>
     wherever they expect some text that will be displayed.</li>
  </ul>
</p>

<h4>3) No more wmain()</h4>

<p>
  Previously, the Wt library implemented the <samp>main(int argc, char
  **argv)</samp> function, and called a <samp>wmain()</samp> function
  which created the WApplication instance.
</p>
<p>
  Wt 2.0.0 allows multiple applications to run within a single process.
  Therefore, the <samp>WApplication::exec()</samp> approach was no longer
  feasible. The new approach requires that:

  <ul>
    <li>your main function should look like this:
<pre>
int main(int argc, char **argv)
{
  return Wt::WRun(argc, argv, &createApplication);
}
</pre>
    </li>
    <li>where createApplication is a function of the following
      signature:

<pre>
Wt::WApplication *createApplication(const Wt::WEnvironment& env)
{
  // return a new application object.
}
</pre>

    </li>
  </ul>
</p>

<h4>4) Configuration in /etc/wt/wt_config.xml</h4>

<p>
  Wt 2.0.0 uses a configuration file for a number of settings that 
  could previously be configured at build time of the library, or
  in the API. The latter functions are:

<ul>
  <li><samp>WApplication::setMaximumRquestSize()</samp></li>
  <li><samp>WApplication::setIdleTimeout()</samp></li>  
</ul>

</p>

<h4>5) Removed obsolete classes</h4>

<p>
  Wt 2.0.0 removed a number of classes that were still in the widget
  tree, but have been obsoleted by more flexible classes:

<ul>
  <li><samp>WAbstractTab</samp>, <samp>WButtonTab</samp>, and <samp>WTabWidget</samp> are obsoleted by the more flexible <samp>WMenu</samp>.</li>
</ul>

</p>

<h4>6) Deprecate boost::regex from WRegExpValidator API</h4>

<p>
  The constructor and methods that takes a boost::regex object in
  the WRegExpValidator API have been deprecated, to remove the dependency
  on boost from the public API. You should consider the std::string based
  construtor and method instead.
</p>

<h4>7) Wide string API</h4>

<p>
  Since Wt 1.99.1, the API for Wt has been changed to use wide strings
  instead of narrow strings. This will force you to consider how your
  application should deal with non-ASCII strings.
</p>

<p>
  To deal with these wide strings you must decide whether you want to
  store wide strings or narrow strings inside your application. To convert
  from wide strings to narrow strings and vice-versa, the application
  offers two sets of methods.

  <ul>
   <li><samp>Wt::toUTF8(std::wstring)</samp> and
       <samp>Wt::fromUTF8(std::string)</samp> provide lossless conversion.
   </li>
   <li><samp>Wt::narrow(std::wstring)</samp> and
       <samp>Wt::widen(std::string)</samp> provide lossy conversion which
    is convenient if you know it is ASCII/latin (or don't care too much if
    it isn't).
   </li>
   <li>A wide C++ string literal is <samp>L"literal"</samp> instead of
     <samp>"literal"</samp>.
   </li>
  </ul>
</p>

<h4>8) WObject::emit() has been removed.</h4>

<p>
  Since Wt 1.99.1, we have removed WObject::emit() function. Instead,
  you may simply call the signal with its arguments, or use the
  explicit emit method (recommended).</p>

<p>
  To adapt your code, you should: 
  <ul>
    <li>Replace all <samp>emit(MySignal(...))</samp> with <samp>MySignal(...)</samp> or <samp>MySignal.emit(...)</samp>
    </li>
  </ul>
</p>

<h2>Release 1.1.7</h2>

This release contains lots of additions and improvements, but should
be completely backwards-compatible.

<h2>Release 1.1.6</h2>

There is one change which will impact the behaviour of current applications:
Currently, on exit, by default the last widget updates are shown. So, no
more good-bye message. This changes slightly when one needs to redirect()
to a new location: not when WApplication::exec() returns, but during the
same event handling as when calling WApplication::quit().

<h2>Release 1.1.5</h2>

Nothing special...

<h2>Release 1.1.4</h2>

Changes to impact everybody, since the previous release:

<ul>
<li>
  The dependency for libxml++ (and its large number of dependencies) has
  been dropped, and replaced by Xerces-C++ (which has no further dependencies).
</li>
<li>
  Wt programs need to link against libwtfcgi.so, instead of libwt.so. In the
  future Wt will also support different web-connnector systems besides
  FastCGI.
</li>
<li>
  The signatures of wmain() and WApplication constructor have changed:
  new signatures are:
  <ul>
    <li>int wmain(const WEnvironment& env)</li>
    <li>WApplication::WApplication(const WEnvironment& env)</li>
 </ul>
</li>
</ul>

<h3>Other changes:</h3>

<ul>
  <li>Support for unicode is implemented, but perhaps needs more testing
  by non-Western people ? Only UTF-8 is supported currently.</li>
  <li>Addition of a WTimer class -- see mission example.</li>
  <li>Many bug fixes which should make Wt more robust against illegal CGI
    requests (which are ignored), and now Wt should exit cleanly in more
    (all?) circumstances.</li>
  <li>Addition of feed-back for pending AJAX requests (does not work yet on
    IE).</li>
  <li>Support for style sheets is improved: now inline decoration styles
    will override style sheet styles. See hangman or treelist examples.</li>
  <li>The browser can be redirected to a new page. This is useful when the
    application is terminated -- or to change during the application from
    HTTP to HTTPS and back.</li>
  <li>WValidationStatus API has changed -- less complicated now.</li>
</ul>

</body>
</html>
 <hr size="1"><address style="align: right;"><small>Generated on Sat Jan 20 20:29:51 2007 for Wt by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.4 </small></address>
</body>
</html>
